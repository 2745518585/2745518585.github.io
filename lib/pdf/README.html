<h1 id="PDF-js-for-NexT"><a href="#PDF-js-for-NexT" class="headerlink" title="PDF.js for NexT"></a><a href="https://github.com/mozilla/pdf.js">PDF.js</a> for <a href="https://github.com/next-theme/hexo-theme-next">NexT</a></h1><h2 id="Introduce"><a href="#Introduce" class="headerlink" title="Introduce"></a>Introduce</h2><p>This is a plugin that allows to preview PDF files in the blog pages.</p>
<p>If the browser supports embedded PDFs natively, NexT will create a <code>&lt;embed&gt;</code> tag and include the PDF file on your website. Otherwise it will create a <code>&lt;iframe&gt;</code> tag and uses PDF.js by @mozilla to render the pdf file.</p>
<p>Follow the guide below to install dependencies.</p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><h3 id="Step-1-rarr-Go-to-Hexo-dir"><a href="#Step-1-rarr-Go-to-Hexo-dir" class="headerlink" title="Step 1 &rarr; Go to Hexo dir"></a>Step 1 &rarr; Go to Hexo dir</h3><p>Change dir to <strong>Hexo</strong> directory. There must be <code>source</code>, <code>themes</code> and other directories:</p>
<pre><code class="sh">$ cd hexo-site
$ ls
_config.next.yml  db.json           package-lock.json scaffolds         themes
_config.yml       node_modules      package.json      source
</code></pre>
<h3 id="Step-2-rarr-Get-module"><a href="#Step-2-rarr-Get-module" class="headerlink" title="Step 2 &rarr; Get module"></a>Step 2 &rarr; Get module</h3><p>Install module to <code>source/lib</code> directory:</p>
<pre><code class="sh">$ git clone https://github.com/next-theme/theme-next-pdf source/lib/pdf
</code></pre>
<h3 id="Step-3-rarr-Set-it-up"><a href="#Step-3-rarr-Set-it-up" class="headerlink" title="Step 3 &rarr; Set it up"></a>Step 3 &rarr; Set it up</h3><p>Enable module in <strong>NexT</strong> <code>_config.next.yml</code> file:</p>
<pre><code class="yml"># PDF tag
# NexT will try to load pdf files natively, if failed, pdf.js will be used.
# So, you have to install the dependency of pdf.js if you want to use pdf tag and make it available to all browsers.
# See: https://github.com/next-theme/theme-next-pdf
pdf:
  enable: true
  # Default height
  height: 500px
</code></pre>
<p>Find and edit <code>skip_render</code> settings in <strong>Hexo</strong> <code>_config.yml</code> file:</p>
<pre><code class="yml">skip_render:
  - lib/**/*
</code></pre>
<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>In order to embed PDF files in the article, you just need to create an <code>pdf</code> tag with the URL of your local PDF file, e.g.</p>
<pre><code>{% pdf /path/to/your/file.pdf %}
</code></pre>
<p>Notice: Do not use cross-origin PDF files, it might be blocked by the CORS policy.</p>
<p>Enjoy it!</p>
<h2 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h2><pre><code class="sh">$ cd hexo-site/source/lib/pdf
$ git pull
</code></pre>
